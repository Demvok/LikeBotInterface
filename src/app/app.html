<div class="app-layout">
  <!-- Sidebar (hidden on login/register pages) -->
   <aside class="sidebar" *ngIf="showSidebar">
    <div class="sidebar-content">
      <div class="sidebar-title">
        <a routerLink="/home" routerLinkActive="active"><h2>Menu</h2></a>
        <hr>
      </div>

      <nav class="sidebar-nav">
        <a routerLink="/tasks" routerLinkActive="active"><div class="sidebar-nav-item">Завдання</div></a>
        <a routerLink="/accounts" routerLinkActive="active"><div class="sidebar-nav-item">Акаунти</div></a>
        <a routerLink="/posts" routerLinkActive="active"><div class="sidebar-nav-item">Всі пости</div></a>
        <a routerLink="/logs" routerLinkActive="active"><div class="sidebar-nav-item">Логи</div></a>
        <a routerLink="/settings" routerLinkActive="active"><div class="sidebar-nav-item">Конфігурація</div></a>
      </nav>

      <ng-container *ngIf="is_task_detailed"><hr></ng-container>      

      <ng-container *ngIf="is_task_detailed">
        <nav class="sidebar-nav-detailed">
          <a [routerLink]="'/task/' + task_id" routerLinkActive="active"><div class="sidebar-nav-item">Огляд<hr></div></a>
          <a [routerLink]="'/task/' + task_id + '/accounts'" routerLinkActive="active"><div class="sidebar-nav-item">Акаунти<hr></div></a>
          <a [routerLink]="'/task/' + task_id + '/posts'" routerLinkActive="active"><div class="sidebar-nav-item">Пости<hr></div></a>
          <a [routerLink]="'/task/' + task_id + '/report'" routerLinkActive="active"><div class="sidebar-nav-item">Звіт<hr></div></a>
        </nav>
      </ng-container>

      <!-- User info and logout -->
      <div class="sidebar-footer">
        <hr>
        <div class="user-info" *ngIf="currentUser">
          <div class="user-details">
            <div class="username">{{ currentUser.username }}</div>
            <div class="user-role">{{ currentUser.role }}</div>
          </div>
        </div>
        <button class="logout-button" (click)="logout()">Вийти</button>
      </div>

    </div>
    
   </aside>

   <!-- Content -->
    <main class="content" [class.full-width]="!showSidebar">
      <router-outlet></router-outlet>     
    </main>

</div>