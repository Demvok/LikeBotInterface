<div class="app-layout">
  <!-- Sidebar (hidden on login/register pages) -->
   <aside class="sidebar" *ngIf="showSidebar">
    <div class="sidebar-content">
      <div class="sidebar-title">
        <a routerLink="/home" routerLinkActive="active"><h2>Menu</h2></a>
        <hr>
      </div>

      <nav class="sidebar-nav">
        <a routerLink="/tasks" routerLinkActive="active"><div class="sidebar-nav-item">–ó–∞–≤–¥–∞–Ω–Ω—è</div></a>
        <a routerLink="/palette" routerLinkActive="active"><div class="sidebar-nav-item">–ü–∞–ª—ñ—Ç—Ä–∏ —Ä–µ–∞–∫—Ü—ñ–π</div></a>
        <a routerLink="/accounts" routerLinkActive="active"><div class="sidebar-nav-item">–ê–∫–∞—É–Ω—Ç–∏</div></a>
        <a routerLink="/posts" routerLinkActive="active"><div class="sidebar-nav-item">–í—Å—ñ –ø–æ—Å—Ç–∏</div></a>
        <a routerLink="/logs" routerLinkActive="active"><div class="sidebar-nav-item">–õ–æ–≥–∏</div></a>
        <a routerLink="/settings" routerLinkActive="active" *ngIf="isAdmin()"><div class="sidebar-nav-item">üîê –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è</div></a>
      </nav>

      <ng-container *ngIf="is_task_detailed"><hr></ng-container>      

      <ng-container *ngIf="is_task_detailed">
        <nav class="sidebar-nav-detailed">
          <a [routerLink]="'/task/' + task_id" routerLinkActive="active"><div class="sidebar-nav-item">–û–≥–ª—è–¥<hr></div></a>
          <a [routerLink]="'/task/' + task_id + '/accounts'" routerLinkActive="active"><div class="sidebar-nav-item">–ê–∫–∞—É–Ω—Ç–∏<hr></div></a>
          <a [routerLink]="'/task/' + task_id + '/posts'" routerLinkActive="active"><div class="sidebar-nav-item">–ü–æ—Å—Ç–∏<hr></div></a>
          <a [routerLink]="'/task/' + task_id + '/report'" routerLinkActive="active"><div class="sidebar-nav-item">–ó–≤—ñ—Ç<hr></div></a>
        </nav>
      </ng-container>

      <!-- User info and logout -->
      <div class="sidebar-footer">
        <div class="user-info" *ngIf="currentUser">
          <div class="user-details">
            <div class="username">{{ currentUser.username }}</div>
            <div class="user-role">{{ currentUser.role }}</div>
          </div>
        </div>
        <hr>
        <button class="logout-button" (click)="logout()">–í–∏–π—Ç–∏</button>
      </div>

    </div>
    
   </aside>

   <!-- Content -->
    <main class="content" [class.full-width]="!showSidebar">
      <router-outlet></router-outlet>     
    </main>

</div>